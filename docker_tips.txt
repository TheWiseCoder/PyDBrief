RELEVANT DOCKER OPERATIONS
==========================

# list existing images:
  docker images

# remove an image:
  docker rmi -f <image-id>

# remove all idle containers:
  docker container prune -f

# create an image (optional: '--no-cache'):
  docker build --build-arg PYDB_REGISTRY_DOCKER=%PYDB_REGISTRY_DOCKER% --build-arg PYDB_REGISTRY_HOST=%PYDB_REGISTRY_HOST% -t pydbrief:latest .

# run image locally (optional: '--name pydbrief', '-it' instead of '-d' for interactive mode):
#   '--mount type==bind' defines that all file activities in 'target' are duplicated in 'source'
#     'source': the directory in the host machine
#     'target': the directory inside the container
  docker run --memory=24g --mount type=bind,source=%PYDB_REGISTRY_HOST%,target=%PYDB_REGISTRY_DOCKER% -d -p 5000:5000 pydbrief:latest

# list running containers (optional: '-a' shows previously running containers):
  docker ps

# show mounted volumes
  docker inspect -f "{{ .Mounts }}" <container_id>

# stop the locally running container:
  docker stop <container-id>

# save image in a tar file
  docker save -o pydbrief.tar pydbrief:latest
# install it (possibily, in a different machine):
  docker load -i pydbrief.tar

# upload the image to a registry:
  docker tag pydbrief:latest <registry-url>/<new-tag>
  docker push <registry-url>/<image-tag>

# download image from a registry and run locally (optional: '--name pydbrief'):
docker run -it -d --rm -p <port>:<map-to-port>  <registry-url>/pydbrief:latest

# access the container's console (assuming it was run with --name pydbrief):
  docker exec -it pydbrief /bin/sh
# or
  docker exec -it pydbrief /bin/bash

# navigate to the app folder:
$ cd /opt/pydbrief/

# locate Python's packages
$ find / -name site-packages

# list Python's packages (usually in /usr/local/lib/python<x.xx>/site-packages)
$ ls -l <path-for-site-packages>

# to create a docker image, the following symbols must have been defined,
#   in the host environment as (values may vary):
      PYDB_REGISTRY_DOCKER=/pydbrief
      PYDB_REGISTRY_HOST=C:\tmp\pydbrief
#   in the Dockerfile as:
      ARG PYDB_REGISTRY_DOCKER
      ENV PYDB_REGISTRY_DOCKER=$PYDB_REGISTRY_DOCKER
      ARG PYDB_REGISTRY_HOST
      ENV PYDB_REGISTRY_HOST=$PYDB_REGISTRY_HOST